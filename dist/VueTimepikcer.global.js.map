{"version":3,"file":"VueTimepikcer.global.js","sources":["../src/VueTimepicker.vue"],"sourcesContent":["<script>\r\nimport { nextTick } from 'vue'\r\n\r\nconst CONFIG = {\r\n  HOUR_TOKENS: ['HH', 'H', 'hh', 'h', 'kk', 'k'],\r\n  MINUTE_TOKENS: ['mm', 'm'],\r\n  SECOND_TOKENS: ['ss', 's'],\r\n  APM_TOKENS: ['A', 'a'],\r\n  BASIC_TYPES: ['hour', 'minute', 'second', 'apm']\r\n}\r\n\r\nconst DEFAULT_OPTIONS = {\r\n  format: 'HH:mm',\r\n  minuteInterval: 1,\r\n  secondInterval: 1,\r\n  hourRange: null,\r\n  minuteRange: null,\r\n  secondRange: null,\r\n  hideDisabledHours: false,\r\n  hideDisabledMinutes: false,\r\n  hideDisabledSeconds: false,\r\n  hideDisabledItems: false,\r\n  advancedKeyboard: false,\r\n  hideDropdown: false,\r\n  blurDelay: 300,\r\n  manualInputTimeout: 1000,\r\n  dropOffsetHeight: 160\r\n}\r\n\r\nexport default {\r\n  name: 'VueTimepicker',\r\n\r\n  props: {\r\n    modelValue: { type: [ Object, String ] },\r\n    format: { type: String },\r\n    minuteInterval: { type: [ Number, String ] },\r\n    secondInterval: { type: [ Number, String ] },\r\n\r\n    hourRange: { type: Array },\r\n    minuteRange: { type: Array },\r\n    secondRange: { type: Array },\r\n\r\n    hideDisabledHours: { type: Boolean, default: false },\r\n    hideDisabledMinutes: { type: Boolean, default: false },\r\n    hideDisabledSeconds: { type: Boolean, default: false },\r\n    hideDisabledItems: { type: Boolean, default: false },\r\n\r\n    hideClearButton: { type: Boolean, default: false },\r\n    disabled: { type: Boolean, default: false },\r\n    closeOnComplete: { type: Boolean, default: false },\r\n\r\n    id: { type: String },\r\n    name: { type: String },\r\n    inputClass: { type: [ String, Object, Array ] },\r\n    placeholder: { type: String },\r\n    tabindex: { type: [ Number, String ], default: 0 },\r\n    inputWidth: { type: String },\r\n    autocomplete: { type: String, default: 'off' },\r\n\r\n    hourLabel: { type: String },\r\n    minuteLabel: { type: String },\r\n    secondLabel: { type: String },\r\n    apmLabel: { type: String },\r\n    amText: { type: String },\r\n    pmText: { type: String },\r\n\r\n    blurDelay: { type: [ Number, String ] },\r\n    advancedKeyboard: { type: Boolean, default: false },\r\n\r\n    lazy: { type: Boolean, default: false },\r\n    autoScroll: { type: Boolean, default: false },\r\n\r\n    dropDirection: { type: String, default: 'down' },\r\n    dropOffsetHeight: { type: [ Number, String ] },\r\n    containerId: { type: String },\r\n    appendToBody: { type: Boolean, default: false },\r\n\r\n    manualInput: { type: Boolean, default: false },\r\n    manualInputTimeout: { type: [ Number, String ] },\r\n    hideDropdown: { type: Boolean, default: false },\r\n    fixedDropdownButton: { type: Boolean, default: false },\r\n\r\n    debugMode: { type: Boolean, default: false }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      timeValue: {},\r\n\r\n      hours: [],\r\n      minutes: [],\r\n      seconds: [],\r\n      apms: [],\r\n\r\n      isActive: false,\r\n      showDropdown: false,\r\n      isFocusing: false,\r\n      debounceTimer: undefined,\r\n\r\n      hourType: 'HH',\r\n      minuteType: 'mm',\r\n      secondType: '',\r\n      apmType: '',\r\n      hour: '',\r\n      minute: '',\r\n      second: '',\r\n      apm: '',\r\n      fullValues: undefined,\r\n      bakDisplayTime: undefined,\r\n      doClearApmChecking: false,\r\n\r\n      selectionTimer: undefined,\r\n      kbInputTimer: undefined,\r\n      kbInputLog: '',\r\n      bakCurrentPos: undefined,\r\n      forceDropOnTop: false\r\n    }\r\n  },\r\n\r\n  emits: ['update:modelValue', 'change', 'open', 'close', 'focus', 'blur', 'error'],\r\n\r\n  computed: {\r\n    opts () {\r\n      const options = Object.assign({}, DEFAULT_OPTIONS)\r\n\r\n      if (this.format && this.format.length) {\r\n        options.format = String(this.format)\r\n      }\r\n\r\n      if (this.isNumber(this.minuteInterval)) {\r\n        options.minuteInterval = +this.minuteInterval\r\n      }\r\n      // minuteInterval failsafe\r\n      if (!options.minuteInterval || options.minuteInterval < 1 || options.minuteInterval > 60) {\r\n        if (this.debugMode) {\r\n          if (options.minuteInterval > 60) {\r\n            this.debugLog(`\"minute-interval\" should be less than 60. Current value is ${this.minuteInterval}`)\r\n          } else if (options.minuteInterval === 0 || options.minuteInterval < 1) {\r\n            this.debugLog(`\"minute-interval\" should be NO less than 1. Current value is ${this.minuteInterval}`)\r\n          }\r\n        }\r\n        if (options.minuteInterval === 0) {\r\n          options.minuteInterval = 60\r\n        } else {\r\n          options.minuteInterval = 1\r\n        }\r\n      }\r\n\r\n      if (this.isNumber(this.secondInterval)) {\r\n        options.secondInterval = +this.secondInterval\r\n      }\r\n      // secondInterval failsafe\r\n      if (!options.secondInterval || options.secondInterval < 1 || options.secondInterval > 60) {\r\n        if (this.debugMode) {\r\n          if (options.secondInterval > 60) {\r\n            this.debugLog(`\"second-interval\" should be less than 60. Current value is ${this.secondInterval}`)\r\n          } else if (options.secondInterval === 0 || options.secondInterval < 1) {\r\n            this.debugLog(`\"second-interval\" should be NO less than 1. Current value is ${this.secondInterval}`)\r\n          }\r\n        }\r\n        if (options.secondInterval === 0) {\r\n          options.secondInterval = 60\r\n        } else {\r\n          options.secondInterval = 1\r\n        }\r\n      }\r\n\r\n      if (this.hourRange && Array.isArray(this.hourRange)) {\r\n        options.hourRange = JSON.parse(JSON.stringify(this.hourRange))\r\n        if (!this.hourRange.length && this.debugMode) {\r\n          this.debugLog('The \"hour-range\" array is empty (length === 0)')\r\n        }\r\n      }\r\n\r\n      if (this.minuteRange && Array.isArray(this.minuteRange)) {\r\n        options.minuteRange = JSON.parse(JSON.stringify(this.minuteRange))\r\n        if (!this.minuteRange.length && this.debugMode) {\r\n          this.debugLog('The \"minute-range\" array is empty (length === 0)')\r\n        }\r\n      }\r\n\r\n      if (this.secondRange && Array.isArray(this.secondRange)) {\r\n        options.secondRange = JSON.parse(JSON.stringify(this.secondRange))\r\n        if (!this.secondRange.length && this.debugMode) {\r\n          this.debugLog('The \"second-range\" array is empty (length === 0)')\r\n        }\r\n      }\r\n\r\n      if (this.hideDisabledItems) {\r\n        options.hideDisabledItems = true\r\n      }\r\n\r\n      if (this.hideDisabledHours || this.hideDisabledItems) {\r\n        options.hideDisabledHours = true\r\n      }\r\n      if (this.hideDisabledMinutes || this.hideDisabledItems) {\r\n        options.hideDisabledMinutes = true\r\n      }\r\n      if (this.hideDisabledSeconds || this.hideDisabledItems) {\r\n        options.hideDisabledSeconds = true\r\n      }\r\n\r\n      if (this.hideDropdown) {\r\n        if (this.manualInput) {\r\n          options.hideDropdown = true\r\n        } else if (this.debugMode) {\r\n          this.debugLog('\"hide-dropdown\" only works with \"manual-input\" mode')\r\n        }\r\n      }\r\n\r\n      if (this.blurDelay && +this.blurDelay > 0) {\r\n        options.blurDelay = +this.blurDelay\r\n      }\r\n\r\n      if (this.manualInputTimeout && +this.manualInputTimeout > 0) {\r\n        options.manualInputTimeout = +this.manualInputTimeout\r\n      }\r\n\r\n      if (this.dropOffsetHeight && +this.dropOffsetHeight > 0) {\r\n        options.dropOffsetHeight = +this.dropOffsetHeight\r\n      }\r\n\r\n      return options\r\n    },\r\n\r\n    useStringValue () {\r\n      return typeof this.modelValue === 'string'\r\n    },\r\n\r\n    formatString () {\r\n      return this.opts.format || DEFAULT_OPTIONS.format\r\n    },\r\n\r\n    inUse () {\r\n      const typesInUse = CONFIG.BASIC_TYPES.filter(type => this.getTokenByType(type))\r\n      // Sort types and tokens by their sequence in the \"format\" string\r\n      typesInUse.sort((l, r) => {\r\n        return this.formatString.indexOf(this.getTokenByType(l) || null) - this.formatString.indexOf(this.getTokenByType(r) || null)\r\n      })\r\n      const tokensInUse = typesInUse.map(type => this.getTokenByType(type))\r\n      return {\r\n        hour: !!this.hourType,\r\n        minute: !!this.minuteType,\r\n        second: !!this.secondType,\r\n        apm: !!this.apmType,\r\n        types: typesInUse || [],\r\n        tokens: tokensInUse || []\r\n      }\r\n    },\r\n\r\n    displayTime () {\r\n      let formatString = String(this.formatString)\r\n      if (this.hour) {\r\n        formatString = formatString.replace(new RegExp(this.hourType, 'g'), this.hour)\r\n      }\r\n      if (this.minute) {\r\n        formatString = formatString.replace(new RegExp(this.minuteType, 'g'), this.minute)\r\n      }\r\n      if (this.second && this.secondType) {\r\n        formatString = formatString.replace(new RegExp(this.secondType, 'g'), this.second)\r\n      }\r\n      if (this.apm && this.apmType) {\r\n        formatString = formatString.replace(new RegExp(this.apmType, 'g'), this.apm)\r\n      }\r\n      return formatString\r\n    },\r\n\r\n    customDisplayTime () {\r\n      if (!this.amText && !this.pmText) {\r\n        return this.displayTime\r\n      }\r\n      return this.displayTime.replace(new RegExp(this.apm, 'g'), this.apmDisplayText(this.apm))\r\n    },\r\n\r\n    inputIsEmpty () {\r\n      return this.formatString === this.displayTime\r\n    },\r\n\r\n    allValueSelected () {\r\n      if (\r\n        (this.inUse.hour && !this.hour) ||\r\n        (this.inUse.minute && !this.minute) ||\r\n        (this.inUse.second && !this.second) ||\r\n        (this.inUse.apm && !this.apm)\r\n      ) {\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n\r\n    columnsSequence () {\r\n      return this.inUse.types.map(type => type) || []\r\n    },\r\n\r\n    showClearBtn () {\r\n      if (this.hideClearButton || this.disabled) {\r\n        return false\r\n      }\r\n      return !this.inputIsEmpty\r\n    },\r\n\r\n    showDropdownBtn () {\r\n      if (this.fixedDropdownButton) { return true }\r\n      if (this.opts.hideDropdown && this.isActive && !this.showDropdown) {\r\n        return true\r\n      }\r\n      return false\r\n    },\r\n\r\n    baseOn12Hours () {\r\n      return this.hourType === 'h' || this.hourType === 'hh'\r\n    },\r\n\r\n    hourRangeIn24HrFormat () {\r\n      if (!this.hourType || !this.opts.hourRange) { return false }\r\n      if (!this.opts.hourRange.length) { return [] }\r\n\r\n      const range = []\r\n      this.opts.hourRange.forEach(value => {\r\n        if (value instanceof Array) {\r\n          if (value.length > 2 && this.debugMode) {\r\n            this.debugLog(`Nested array within \"hour-range\" must contain no more than two items. Only the first two items of ${JSON.stringify(value)} will be taken into account.`)\r\n          }\r\n\r\n          let start = value[0]\r\n          let end = value[1] || value[0]\r\n\r\n          if (this.is12hRange(start)) {\r\n            start = this.translate12hRange(start)\r\n          }\r\n          if (this.is12hRange(end)) {\r\n            end = this.translate12hRange(end)\r\n          }\r\n\r\n          for (let i = +start; i <= +end; i++) {\r\n            if (i < 0 || i > 24) { continue }\r\n            if (!range.includes(i)) {\r\n              range.push(i)\r\n            }\r\n          }\r\n        } else {\r\n          if (this.is12hRange(value)) {\r\n            value = this.translate12hRange(value)\r\n          } else {\r\n            value = +value\r\n          }\r\n          if (value < 0 || value > 24) { return }\r\n          if (!range.includes(value)) {\r\n            range.push(value)\r\n          }\r\n        }\r\n      })\r\n      range.sort((l, r) => { return l - r })\r\n      return range\r\n    },\r\n\r\n    restrictedHourRange () {\r\n      // No restriction\r\n      if (!this.hourRangeIn24HrFormat) { return false }\r\n      // 12-Hour\r\n      if (this.baseOn12Hours) {\r\n        const range = this.hourRangeIn24HrFormat.map((value) => {\r\n          if (value === 12) {\r\n            return '12p'\r\n          } else if (value === 24 || value === 0) {\r\n            return '12a'\r\n          }\r\n          return value > 12 ? `${value % 12}p` : `${value}a`\r\n        })\r\n        return range\r\n      }\r\n      // 24-Hour\r\n      return this.hourRangeIn24HrFormat\r\n    },\r\n\r\n    validHoursList () {\r\n      if (!this.manualInput) { return false }\r\n      if (this.restrictedHourRange) {\r\n        let list = []\r\n        if (this.baseOn12Hours) {\r\n          list = this.restrictedHourRange.map(hr => {\r\n            const l = hr.substr(0, hr.length - 1)\r\n            const r = hr.substr(-1)\r\n            return `${this.formatValue(this.hourType, l)}${r}`\r\n          })\r\n          const am12Index = list.indexOf('12a')\r\n          if (am12Index > 0) {\r\n            // Make '12a' the first item in h/hh\r\n            list.unshift(list.splice(am12Index, 1)[0])\r\n          }\r\n          return list\r\n        }\r\n        list = this.restrictedHourRange.map(hr => {\r\n          return this.formatValue(this.hourType, hr)\r\n        })\r\n        if (list.length > 1 && list[0] && list[0] === '24') {\r\n          // Make '24' the last item in k/kk\r\n          list.push(list.shift())\r\n        }\r\n        return list\r\n      }\r\n      if (this.baseOn12Hours) {\r\n        return [].concat([], this.hours.map(hr => `${hr}a`), this.hours.map(hr => `${hr}p`))\r\n      }\r\n      return this.hours\r\n    },\r\n\r\n    has () {\r\n      const result = {\r\n        customApmText: false\r\n      }\r\n      const apmEnabled = !!this.apmType\r\n\r\n      if (apmEnabled && this.hourRangeIn24HrFormat && this.hourRangeIn24HrFormat.length) {\r\n        const range = [].concat([], this.hourRangeIn24HrFormat)\r\n        result.am = range.some(value => value < 12 || value === 24)\r\n        result.pm = range.some(value => value >= 12 && value < 24)\r\n      } else {\r\n        result.am = apmEnabled\r\n        result.pm = apmEnabled\r\n      }\r\n      if ((this.amText && this.amText.length) || (this.pmText && this.pmText.length)) {\r\n        result.customApmText = true\r\n      }\r\n      return result\r\n    },\r\n\r\n    minuteRangeList () {\r\n      if (!this.minuteType || !this.opts.minuteRange) { return false }\r\n      if (!this.opts.minuteRange.length) { return [] }\r\n      return this.renderRangeList(this.opts.minuteRange, 'minute')\r\n    },\r\n\r\n    secondRangeList () {\r\n      if (!this.secondType || !this.opts.secondRange) { return false }\r\n      if (!this.opts.secondRange.length) { return [] }\r\n      return this.renderRangeList(this.opts.secondRange, 'second')\r\n    },\r\n    \r\n    hourLabelText () {\r\n      return this.hourLabel || this.hourType\r\n    },\r\n    minuteLabelText () {\r\n      return this.minuteLabel || this.minuteType\r\n    },\r\n    secondLabelText() {\r\n      return this.secondLabel || this.secondType\r\n    },\r\n    apmLabelText () {\r\n      return this.apmLabel || this.apmType\r\n    },\r\n\r\n    inputWidthStyle () {\r\n      if (!this.inputWidth || !this.inputWidth.length) { return }\r\n      return {\r\n        width: this.inputWidth\r\n      }\r\n    },\r\n\r\n    tokenRegexBase () {\r\n      return this.inUse.tokens.join('|')\r\n    },\r\n\r\n    tokenChunks () {\r\n      if (!this.manualInput && !this.useStringValue) { return false }\r\n\r\n      const formatString = String(this.formatString)\r\n      const tokensRegxStr = `(${this.tokenRegexBase})+?`\r\n      const tokensMatchAll = this.getMatchAllByRegex(formatString, tokensRegxStr)\r\n\r\n      const tokenChunks = []\r\n      for (let tkMatch of tokensMatchAll) {\r\n        const rawToken = tkMatch[0]\r\n        const tokenMatchItem = {\r\n          index: tkMatch.index,\r\n          token: rawToken,\r\n          type: this.getTokenType(rawToken),\r\n          needsCalibrate: rawToken.length < 2,\r\n          len: (rawToken || '').length\r\n        }\r\n        tokenChunks.push(tokenMatchItem)\r\n      }\r\n      return tokenChunks\r\n    },\r\n\r\n    needsPosCalibrate () {\r\n      if (!this.manualInput) { return false }\r\n      return this.tokenChunks.some(chk => chk.needsCalibrate)\r\n    },\r\n\r\n    tokenChunksPos () {\r\n      if (!this.manualInput) { return false }\r\n      if (!this.needsPosCalibrate) {\r\n        return this.tokenChunks.map(chk => {\r\n          return {\r\n            token: chk.token,\r\n            type: chk.type,\r\n            start: chk.index,\r\n            end: chk.index + chk.len\r\n          }\r\n        })\r\n      }\r\n      const list = []\r\n      let calibrateLen = 0\r\n      this.tokenChunks.forEach(chk => {\r\n        let chunkCurrentLen\r\n        // Adjust for customized AM/PM text\r\n        if (chk.type === 'apm' && this.has.customApmText) {\r\n          if (this.apm && this.apm.length) {\r\n            const customApmText = this.apm.toLowerCase() === 'am' ? this.amText : this.pmText\r\n            chunkCurrentLen = (customApmText && customApmText.length) ? customApmText.length : chk.len\r\n          } else {\r\n            chunkCurrentLen = chk.len\r\n          }\r\n        // Others\r\n        } else {\r\n          chunkCurrentLen = this[chk.type] && this[chk.type].length ? this[chk.type].length : chk.len\r\n        }\r\n        list.push({\r\n          token: chk.token,\r\n          type: chk.type,\r\n          start: chk.index + calibrateLen,\r\n          end: chk.index + calibrateLen + chunkCurrentLen\r\n        })\r\n        if (chk.needsCalibrate && chunkCurrentLen > chk.len) {\r\n          calibrateLen += (chunkCurrentLen - chk.len)\r\n        }\r\n      })\r\n      return list\r\n    },\r\n\r\n    invalidValues () {\r\n      if (this.inputIsEmpty) { return [] }\r\n      if (!this.restrictedHourRange && !this.minuteRangeList && !this.secondRangeList && this.opts.minuteInterval === 1 && this.opts.secondInterval === 1) { return [] }\r\n\r\n      const result = []\r\n      if (this.inUse.hour && !this.isEmptyValue(this.hourType, this.hour) && (!this.isValidValue(this.hourType, this.hour) || this.isDisabled('hour', this.hour))) {\r\n        result.push('hour')\r\n      }\r\n      if (this.inUse.minute && !this.isEmptyValue(this.minuteType, this.minute) && (!this.isValidValue(this.minuteType, this.minute) || this.isDisabled('minute', this.minute) || this.notInInterval('minute', this.minute))) {\r\n        result.push('minute')\r\n      }\r\n      if (this.inUse.second && !this.isEmptyValue(this.secondType, this.second) && (!this.isValidValue(this.secondType, this.second) || this.isDisabled('second', this.second) || this.notInInterval('second', this.second))) {\r\n        result.push('second')\r\n      }\r\n      if (this.inUse.apm && !this.isEmptyValue(this.apmType, this.apm) && (!this.isValidValue(this.apmType, this.apm) || this.isDisabled('apm', this.apm))) {\r\n        result.push('apm')\r\n      }\r\n      if (result.length) {\r\n        return result\r\n      }\r\n      return []\r\n    },\r\n\r\n    hasInvalidInput () {\r\n      return Boolean(this.invalidValues && this.invalidValues.length)\r\n    },\r\n\r\n    autoDirectionEnabled () {\r\n      return this.dropDirection === 'auto'\r\n    },\r\n\r\n    dropdownDirClass () {\r\n      if (this.autoDirectionEnabled) {\r\n        return this.forceDropOnTop ? 'drop-up' : 'drop-down'\r\n      }\r\n      return this.dropDirection === 'up' ? 'drop-up' : 'drop-down'      \r\n    }\r\n  },\r\n\r\n  watch: {\r\n    'opts.format' (newValue) {\r\n      this.renderFormat(newValue)\r\n    },\r\n    'opts.minuteInterval' (newInteval) {\r\n      this.renderList('minute', newInteval)\r\n    },\r\n    'opts.secondInterval' (newInteval) {\r\n      this.renderList('second', newInteval)\r\n    },\r\n    value: {\r\n      deep: true,\r\n      handler () {\r\n        this.readValues()\r\n      }\r\n    },\r\n    displayTime () {\r\n      this.fillValues()\r\n    },\r\n    disabled (toDisabled) {\r\n      if (toDisabled) {\r\n        // Force close dropdown and reset status when disabled\r\n        if (this.isActive) {\r\n          this.isActive = false\r\n        }\r\n        if (this.showDropdown) {\r\n          this.showDropdown = false\r\n        }\r\n      }\r\n    },\r\n    'invalidValues.length' (newLength, oldLength) {\r\n      if (newLength && newLength >= 1) {\r\n        this.$emit('error', this.invalidValues)\r\n      } else if (oldLength && oldLength >= 1) {\r\n        this.$emit('error', [])\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    formatValue (token, i) {\r\n      if (!this.isNumber(i)) { return '' }\r\n      i = +i\r\n      switch (token) {\r\n        case 'H':\r\n        case 'h':\r\n        case 'k':\r\n        case 'm':\r\n        case 's':\r\n          if (['h', 'k'].includes(token) && i === 0) {\r\n            return token === 'k' ? '24' : '12'\r\n          }\r\n          return String(i)\r\n        case 'HH':\r\n        case 'mm':\r\n        case 'ss':\r\n        case 'hh':\r\n        case 'kk':\r\n          if (['hh', 'kk'].includes(token) && i === 0) {\r\n            return token === 'kk' ? '24' : '12'\r\n          }\r\n          return i < 10 ? `0${i}` : String(i)\r\n        default:\r\n          return ''\r\n      }\r\n    },\r\n\r\n    checkAcceptingType (validValues, formatString) {\r\n      if (!validValues || !formatString || !formatString.length) { return '' }\r\n      for (let i = 0; i < validValues.length; i++) {\r\n        if (formatString.indexOf(validValues[i]) > -1) {\r\n          return validValues[i]\r\n        }\r\n      }\r\n      return ''\r\n    },\r\n\r\n    renderFormat (newFormat) {\r\n      newFormat = newFormat || this.opts.format || DEFAULT_OPTIONS.format\r\n\r\n      let hourType = this.checkAcceptingType(CONFIG.HOUR_TOKENS, newFormat)\r\n      let minuteType = this.checkAcceptingType(CONFIG.MINUTE_TOKENS, newFormat)\r\n      this.secondType = this.checkAcceptingType(CONFIG.SECOND_TOKENS, newFormat)\r\n      this.apmType = this.checkAcceptingType(CONFIG.APM_TOKENS, newFormat)\r\n\r\n      // Failsafe checking\r\n      if (!hourType && !minuteType && !this.secondType && !this.apmType) {\r\n        if (this.debugMode && this.format) {\r\n          this.debugLog(`No valid tokens found in your defined \"format\" string \"${this.format}\". Fallback to the default \"HH:mm\" format.`)\r\n        }\r\n        hourType = 'HH'\r\n        minuteType = 'mm'\r\n      }\r\n      this.hourType = hourType\r\n      this.minuteType = minuteType\r\n\r\n      this.hourType ? this.renderHoursList() : this.hours = []\r\n      this.minuteType ? this.renderList('minute') : this.minutes = []\r\n      this.secondType ? this.renderList('second') : this.seconds = []\r\n      this.apmType ? this.renderApmList() : this.apms = []\r\n\r\n      nextTick(() => {\r\n        this.readValues()\r\n      })\r\n    },\r\n\r\n    renderHoursList () {\r\n      const hoursCount = this.baseOn12Hours ? 12 : 24\r\n      const hours = []\r\n      for (let i = 0; i < hoursCount; i++) {\r\n        if (this.hourType === 'k' || this.hourType === 'kk') {\r\n          hours.push(this.formatValue(this.hourType, i + 1))\r\n        } else {\r\n          hours.push(this.formatValue(this.hourType, i))\r\n        }\r\n      }\r\n      this.hours = hours\r\n    },\r\n\r\n    renderList (listType, interval) {\r\n      if (!this.isMinuteOrSecond(listType)) { return }\r\n\r\n      const isMinute = listType === 'minute'\r\n      interval = interval || (isMinute ? (this.opts.minuteInterval || DEFAULT_OPTIONS.minuteInterval) : (this.opts.secondInterval || DEFAULT_OPTIONS.secondInterval))\r\n\r\n      const result = []\r\n      for (let i = 0; i < 60; i += interval) {\r\n        result.push(this.formatValue(isMinute ? this.minuteType : this.secondType, i))\r\n      }\r\n      isMinute ? this.minutes = result : this.seconds = result\r\n    },\r\n\r\n    renderApmList () {\r\n      this.apms = this.apmType === 'A' ? ['AM', 'PM'] : ['am', 'pm']\r\n    },\r\n\r\n    readValues () {\r\n      if (this.useStringValue) {\r\n        if (this.debugMode) {\r\n          this.debugLog(`Received a string value: \"${this.modelValue}\"`)\r\n        }\r\n        this.readStringValues(this.modelValue)\r\n      } else {\r\n        if (this.debugMode) {\r\n          this.debugLog(`Received an object value: \"${JSON.stringify(this.modelValue || {})}\"`)\r\n        }\r\n        this.readObjectValues(this.modelValue)\r\n      }\r\n    },\r\n\r\n    readObjectValues (objValue) {\r\n      const timeValue = JSON.parse(JSON.stringify(objValue || {}))\r\n      const values = Object.keys(timeValue)\r\n\r\n      // Failsafe for empty `v-model` object\r\n      if (values.length === 0) {\r\n        this.addFallbackValues()\r\n        return\r\n      }\r\n\r\n      CONFIG.BASIC_TYPES.forEach(type => {\r\n        const token = this.getTokenByType(type)\r\n        if (values.indexOf(token) > -1) {\r\n          const sanitizedValue = this.sanitizedValue(token, timeValue[token])\r\n          this[type] = sanitizedValue\r\n          timeValue[token] = sanitizedValue\r\n        } else {\r\n          this[type] = ''\r\n        }\r\n      })\r\n      this.timeValue = timeValue\r\n    },\r\n\r\n    getMatchAllByRegex (testString, regexString) {\r\n      const str = 'polyfillTest'\r\n      const needsPolyfill = Boolean(!str.matchAll || typeof str.matchAll !== 'function')\r\n      return needsPolyfill ? this.polyfillMatchAll(testString, regexString) : testString.matchAll(new RegExp(regexString, 'g'))\r\n    },\r\n\r\n    readStringValues (stringValue) {\r\n      // Failsafe for empty `v-model` string\r\n      if (!stringValue || !stringValue.length) {\r\n        this.addFallbackValues()\r\n        return\r\n      }\r\n\r\n      const formatString = String(this.formatString)\r\n      const tokensRegxStr = `(${this.tokenRegexBase})+?`\r\n      const othersRegxStr = `[^(${this.tokenRegexBase})]+`\r\n\r\n      const tokensMatchAll = this.getMatchAllByRegex(formatString, tokensRegxStr)\r\n      const othersMatchAll = this.getMatchAllByRegex(formatString, othersRegxStr)\r\n\r\n      const chunks = []\r\n      const tokenChunks = []\r\n\r\n      for (let tkMatch of tokensMatchAll) {\r\n        const tokenMatchItem = {\r\n          index: tkMatch.index,\r\n          token: tkMatch[0],\r\n          isValueToken: true\r\n        }\r\n        chunks.push(tokenMatchItem)\r\n        tokenChunks.push(tokenMatchItem)\r\n      }\r\n\r\n      for (let otMatch of othersMatchAll) {\r\n        chunks.push({\r\n          index: otMatch.index,\r\n          token: otMatch[0]\r\n        })\r\n      }\r\n\r\n      chunks.sort((l, r) => l.index < r.index ? -1 : 1)\r\n\r\n      let regexCombo = ''\r\n      chunks.forEach(chunk => {\r\n        if (chunk.isValueToken) {\r\n          const tokenRegex = this.getTokenRegex(chunk.token) || ''\r\n          regexCombo += tokenRegex\r\n        } else {\r\n          const safeChars = chunk.token.replace(/\\\\{0}(\\*|\\?|\\.|\\+)/g, '\\\\$1')\r\n          regexCombo += `(?:${safeChars})`\r\n        }\r\n      })\r\n\r\n      const comboReg = new RegExp(regexCombo)\r\n\r\n      // Do test before match\r\n      if (comboReg.test(stringValue)) {\r\n        const matchResults = stringValue.match(new RegExp(regexCombo))\r\n        const valueResults = matchResults.slice(1, tokenChunks.length + 1)\r\n        const timeValue = {}\r\n        valueResults.forEach((value, vrIndex) => {\r\n          if (tokenChunks[vrIndex]) {\r\n            const targetToken = tokenChunks[vrIndex].token\r\n            timeValue[targetToken] = this.setValueFromString(value, targetToken)\r\n          }\r\n        })\r\n        this.timeValue = timeValue\r\n\r\n        if (this.debugMode) {\r\n          const tokenChunksForLog = tokenChunks.map(tChunk => tChunk && tChunk.token)\r\n          this.debugLog(`Successfully parsed values ${JSON.stringify(valueResults)}\\nfor ${JSON.stringify(tokenChunksForLog)}\\nin format pattern '${this.formatString}'`)\r\n        }\r\n      } else {\r\n        if (this.debugMode) {\r\n          this.debugLog(`The input string in \"v-model\" does NOT match the \"format\" pattern\\nformat: ${this.formatString}\\nv-model: ${stringValue}`)\r\n        }\r\n      }\r\n    },\r\n\r\n    polyfillMatchAll (targetString, regxStr) {\r\n      const matchesList = targetString.match(new RegExp(regxStr, 'g'))\r\n      const result = []\r\n      const indicesReg = []\r\n      if (matchesList && matchesList.length) {\r\n        matchesList.forEach(matchedItem => {\r\n          const existIndex = indicesReg.findIndex(idxItem => idxItem.str === matchedItem)\r\n          let index\r\n          if (existIndex >= 0) {\r\n            if (indicesReg[existIndex] && indicesReg[existIndex].regex) {\r\n              index = indicesReg[existIndex].regex.exec(targetString).index\r\n            }\r\n          } else {\r\n            const itemIndicesRegex = new RegExp(matchedItem, 'g')\r\n            index = itemIndicesRegex.exec(targetString).index\r\n            indicesReg.push({\r\n              str: String(matchedItem),\r\n              regex: itemIndicesRegex\r\n            })\r\n          }\r\n          result.push({\r\n            0: String(matchedItem),\r\n            index: index\r\n          })\r\n        })\r\n      }\r\n      return result\r\n    },\r\n\r\n    addFallbackValues () {\r\n      const timeValue = {}\r\n      this.inUse.types.forEach(type => {\r\n        timeValue[this.getTokenByType(type)] = ''\r\n      })\r\n      this.timeValue = timeValue\r\n    },\r\n\r\n    setValueFromString (parsedValue, token) {\r\n      if (!token || !parsedValue) { return '' }\r\n      const tokenType = this.getTokenType(token)\r\n      if (!tokenType || !tokenType.length) { return '' }\r\n      const stdValue = (parsedValue !== this.getTokenByType(tokenType)) ? parsedValue : ''\r\n      this[tokenType] = stdValue\r\n      return stdValue\r\n    },\r\n\r\n    fillValues (forceEmit) {\r\n      const fullValues = {}\r\n\r\n      const baseHour = this.hour\r\n      const baseHourType = this.hourType\r\n\r\n      let apmValue\r\n\r\n      // Hour type or hour value is NOT set in the \"format\" string\r\n      if (!baseHourType || !this.isNumber(baseHour)) {\r\n        CONFIG.HOUR_TOKENS.forEach(token => fullValues[token] = '')\r\n        apmValue = this.lowerCasedApm(this.apm || '')\r\n        fullValues.a = apmValue\r\n        fullValues.A = apmValue.toUpperCase()\r\n\r\n      // Both Hour type and value are set\r\n      } else {\r\n        const hourValue = +baseHour\r\n        const apmValue = (this.baseOn12Hours && this.apm) ? this.lowerCasedApm(this.apm) : false\r\n\r\n        CONFIG.HOUR_TOKENS.forEach((token) => {\r\n          if (token === baseHourType) {\r\n            fullValues[token] = baseHour\r\n            return\r\n          }\r\n\r\n          let value\r\n          let apm\r\n          switch (token) {\r\n            case 'H':\r\n            case 'HH':\r\n            case 'k':\r\n            case 'kk':\r\n              if (this.baseOn12Hours) {\r\n                if (apmValue === 'pm') {\r\n                  value = hourValue < 12 ? hourValue + 12 : hourValue\r\n                } else if (['k', 'kk'].includes(token)) {\r\n                  value = hourValue === 12 ? 24 : hourValue\r\n                } else {\r\n                  value = hourValue % 12\r\n                }\r\n              } else {\r\n                if (['k', 'kk'].includes(token)) {\r\n                  value = hourValue === 0 ? 24 : hourValue\r\n                } else {\r\n                  value = hourValue % 24\r\n                }\r\n              }\r\n              fullValues[token] = this.formatValue(token, value)\r\n              break\r\n            case 'h':\r\n            case 'hh':\r\n              // h <-> hh\r\n              if (this.baseOn12Hours) {\r\n                value = hourValue\r\n                apm = apmValue || ''\r\n              // Read from other hour formats\r\n              } else {\r\n                if (hourValue > 11 && hourValue < 24) {\r\n                  apm = 'pm'\r\n                  value = hourValue === 12 ? 12 : hourValue % 12\r\n                } else {\r\n                  apm = 'am'\r\n                  value = hourValue % 12 === 0 ? 12 : hourValue\r\n                }\r\n              }\r\n              fullValues[token] = this.formatValue(token, value)\r\n              fullValues.a = apm\r\n              fullValues.A = apm.toUpperCase()\r\n              break\r\n          }\r\n        })\r\n      }\r\n\r\n      fullValues.m = this.formatValue('m', this.minute)\r\n      fullValues.mm = this.formatValue('mm', this.minute)\r\n      fullValues.s = this.formatValue('s', this.second)\r\n      fullValues.ss = this.formatValue('ss', this.second)\r\n\r\n      this.fullValues = fullValues\r\n\r\n      // On lazy mode, emit `input` and `change` events only when:\r\n      // - The user pick a new value and then close the dropdown\r\n      // - The user click the (\"x\") clear button\r\n      if (!this.lazy || forceEmit) {\r\n        this.emitTimeValue()\r\n      }\r\n\r\n      if (this.closeOnComplete && this.allValueSelected && this.showDropdown) {\r\n        this.toggleActive()\r\n      }\r\n    },\r\n\r\n    emitTimeValue () {\r\n      if (!this.fullValues) { return }\r\n\r\n      if (this.lazy && this.bakDisplayTime === this.displayTime) {\r\n        if (this.debugMode) {\r\n          this.debugLog('The value does not change on `lazy` mode. Skip the emitting `input` and `change` event.')\r\n        }\r\n        return\r\n      }\r\n\r\n      const fullValues = JSON.parse(JSON.stringify(this.fullValues))\r\n\r\n      if (this.useStringValue) {\r\n        this.$emit('update:modelValue', this.inputIsEmpty ? '' : String(this.displayTime))\r\n      } else {\r\n        const tokensInUse = this.inUse.tokens || []\r\n        const timeValue = {}\r\n        tokensInUse.forEach((token) => {\r\n          timeValue[token] = fullValues[token] || ''\r\n        })\r\n        this.$emit('update:modelValue', JSON.parse(JSON.stringify(timeValue)))\r\n      }\r\n\r\n      this.$emit('change', {\r\n        data: fullValues,\r\n        displayTime: this.inputIsEmpty ? '' : String(this.displayTime)\r\n      })\r\n    },\r\n\r\n    translate12hRange (value) {\r\n      const valueT = this.match12hRange(value)\r\n      if (+valueT[1] === 12) {\r\n        return +valueT[1] + (valueT[2].toLowerCase() === 'p' ? 0 : 12)\r\n      }\r\n      return +valueT[1] + (valueT[2].toLowerCase() === 'p' ? 12 : 0)\r\n    },\r\n\r\n    isDisabled (type, value) {\r\n      if (!this.isBasicType(type) || !this.inUse[type]) { return true }\r\n      switch (type) {\r\n        case 'hour':\r\n          return this.isDisabledHour(value)\r\n        case 'minute':\r\n        case 'second':\r\n          if (!this[`${type}RangeList`]) {\r\n            return false\r\n          }\r\n          return !this[`${type}RangeList`].includes(value)\r\n        case 'apm':\r\n          if (!this.restrictedHourRange) {\r\n            return false\r\n          }\r\n          return !this.has[this.lowerCasedApm(value)]\r\n        default:\r\n          return true\r\n      }\r\n    },\r\n\r\n    isDisabledHour (value) {\r\n      if (!this.restrictedHourRange) { return false }\r\n      if (this.baseOn12Hours) {\r\n        if (!this.apm || !this.apm.length) {\r\n          return false\r\n        } else {\r\n          const token = this.apm.toLowerCase() === 'am' ? 'a' : 'p'\r\n          return !this.restrictedHourRange.includes(`${+value}${token}`)\r\n        }\r\n      }\r\n      // Fallback for 'HH' and 'H hour format with a `hour-range` in a 12-hour form\r\n      if (\r\n        (this.hourType === 'HH' || this.hourType === 'H') &&\r\n        +value === 0 && this.restrictedHourRange.includes(24)\r\n      ) {\r\n        return false\r\n      }\r\n      return !this.restrictedHourRange.includes(+value)\r\n    },\r\n\r\n    notInInterval (section, value) {\r\n      if (!section || !this.isMinuteOrSecond(section)) { return }\r\n      if (this.opts[`${section}Interval`] === 1) { return false }\r\n      return +value % this.opts[`${section}Interval`] !== 0\r\n    },\r\n\r\n    renderRangeList (rawRange, section) {\r\n      if (!rawRange || !section || !this.isMinuteOrSecond(section)) { return [] }\r\n      const range = []\r\n      let formatedValue\r\n      rawRange.forEach(value => {\r\n        if (value instanceof Array) {\r\n          if (value.length > 2 && this.debugMode) {\r\n            this.debugLog(`Nested array within \"${section}-range\" must contain no more than two items. Only the first two items of ${JSON.stringify(value)} will be taken into account.`)\r\n          }\r\n          const start = value[0]\r\n          const end = value[1] || value[0]\r\n          for (let i = +start; i <= +end; i++) {\r\n            if (i < 0 || i > 59) { continue }\r\n            formatedValue = this.formatValue(this.getTokenByType(section), i)\r\n            if (!range.includes(formatedValue)) {\r\n              range.push(formatedValue)\r\n            }\r\n          }\r\n        } else {\r\n          if (+value < 0 || +value > 59) { return }\r\n          formatedValue = this.formatValue(this.getTokenByType(section), value)\r\n          if (!range.includes(formatedValue)) {\r\n            range.push(formatedValue)\r\n          }\r\n        }\r\n      })\r\n      range.sort((l, r) => { return l - r })\r\n      // Debug Mode\r\n      if (this.debugMode) {\r\n        const fullList = (section === 'minute' ? this.minutes : this.seconds) || []\r\n        const validItems = fullList.filter(item => range.includes(item))\r\n        if (!validItems || !validItems.length) {\r\n          if (section === 'minute') {\r\n            this.debugLog(`The minute list is empty due to the \"minute-range\" config\\nminute-range: ${JSON.stringify(this.minuteRange)}\\nminute-interval: ${this.opts.minuteInterval}`)\r\n          } else {\r\n            this.debugLog(`The second list is empty due to the \"second-range\" config\\nsecond-range: ${JSON.stringify(this.secondRange)}\\nsecond-interval: ${this.opts.secondInterval}`)\r\n          }\r\n        }\r\n      }\r\n      return range\r\n    },\r\n\r\n    forceApmSelection () {\r\n      if (this.manualInput) {\r\n        // Skip this to allow users to paste a string value from the clipboard in Manual Input mode\r\n        return\r\n      }\r\n      if (this.apmType && !this.apm) {\r\n        if (this.has.am || this.has.pm) {\r\n          this.doClearApmChecking = true\r\n          const apmValue = this.has.am ? 'am' : 'pm'\r\n          this.apm = this.apmType === 'A' ? apmValue.toUpperCase() : apmValue\r\n        }\r\n      }\r\n    },\r\n\r\n    emptyApmSelection () {\r\n      if (this.doClearApmChecking && this.hour === '' && this.minute === '' && this.second === '') {\r\n        this.apm = ''\r\n      }\r\n      this.doClearApmChecking = false\r\n    },\r\n\r\n    apmDisplayText (apmValue) {\r\n      if (this.amText && this.lowerCasedApm(apmValue) === 'am') {\r\n        return this.amText\r\n      }\r\n      if (this.pmText && this.lowerCasedApm(apmValue) === 'pm') {\r\n        return this.pmText\r\n      }\r\n      return apmValue\r\n    },\r\n\r\n    toggleActive () {\r\n      if (this.disabled) { return }\r\n      this.isActive = !this.isActive\r\n\r\n      if (this.isActive) {\r\n        this.isFocusing = true\r\n        if (this.manualInput) {\r\n          this.$emit('focus')\r\n        }\r\n        if (!this.opts.hideDropdown) {\r\n          this.setDropdownState(true)\r\n        }\r\n        // Record to check if value did change in the later phase\r\n        if (this.lazy) {\r\n          this.bakDisplayTime = String(this.displayTime || '')\r\n        }\r\n        if (this.manualInput && !this.inputIsEmpty) {\r\n          nextTick(() => {\r\n            if (this.$refs.input && this.$refs.input.selectionStart === 0 && this.$refs.input.selectionEnd === this.displayTime.length) {\r\n              // Select the first slot instead of the whole value string when tabbed in\r\n              this.selectFirstSlot()\r\n            }\r\n          })\r\n        }\r\n      } else {\r\n        if (this.showDropdown) {\r\n          this.setDropdownState(false)\r\n        } else if (this.manualInput) {\r\n          this.$emit('blur')\r\n        }\r\n        this.isFocusing = false\r\n        if (this.lazy) {\r\n          this.fillValues(true)\r\n          this.bakDisplayTime = undefined\r\n        }\r\n      }\r\n\r\n      if (this.restrictedHourRange && this.baseOn12Hours) {\r\n        this.showDropdown ? this.forceApmSelection() : this.emptyApmSelection()\r\n      }\r\n      if (this.showDropdown) {\r\n        this.checkForAutoScroll()\r\n      }\r\n    },\r\n\r\n    setDropdownState (toShow, fromUserClick = false) {\r\n      if (toShow) {\r\n        console.warn('appendToBody state', this.appendToBody)\r\n        if (this.appendToBody) {\r\n          this.appendDropdownToBody()\r\n        }\r\n        this.keepFocusing()\r\n        if (this.autoDirectionEnabled) {\r\n          this.checkDropDirection()\r\n        }\r\n        this.showDropdown = true\r\n        this.$emit('open') \r\n        if (fromUserClick) {\r\n          if (this.fixedDropdownButton) {\r\n            this.isActive = true\r\n          }\r\n          this.$emit('blur')\r\n          this.checkForAutoScroll()\r\n        }\r\n      } else {\r\n        this.showDropdown = false\r\n        this.$emit('close')\r\n        if (this.appendToBody) {\r\n          this.removeDropdownFromBody()\r\n        }\r\n      }\r\n    },\r\n\r\n    appendDropdownToBody () {\r\n      console.warn('appendDropdownToBody', this.$refs)\r\n      const dropdown = this.$refs && this.$refs.dropdown\r\n      const body = document.getElementsByTagName('body')[0]\r\n      if (body && dropdown) {\r\n        window.addEventListener('scroll', this.updateDropdownPos)\r\n        dropdown.classList.add('vue__time-picker-dropdown')\r\n        this.updateDropdownPos()\r\n        body.appendChild(dropdown)\r\n      }\r\n    },\r\n\r\n    updateDropdownPos () {\r\n      if (!this.appendToBody) { return }\r\n      const dropdown = this.$refs && this.$refs.dropdown\r\n      const body = document.getElementsByTagName('body')[0]\r\n      if (body && dropdown) {\r\n        const box = this.$el.getBoundingClientRect()\r\n        if (this.dropdownDirClass === 'drop-up') {\r\n          dropdown.style.bottom = `${window.innerHeight - box.y}px`\r\n          dropdown.style.top = 'auto'\r\n        } else {\r\n          dropdown.style.top = `${box.y + box.height}px`\r\n          dropdown.style.bottom = 'auto'\r\n        }\r\n        dropdown.style.left = `${box.x}px`\r\n      }\r\n    },\r\n\r\n    removeDropdownFromBody () {\r\n      const dropdown = this.$refs && this.$refs.dropdown\r\n      const body = document.getElementsByTagName('body')[0]\r\n      if (body && dropdown && body.contains(dropdown)) {\r\n        body.removeChild(dropdown)\r\n      }\r\n      if (dropdown) {\r\n        dropdown.classList.remove('vue__time-picker-dropdown')\r\n        dropdown.style.top = ''\r\n        dropdown.style.bottom = ''\r\n        dropdown.style.left = ''\r\n        this.$el.appendChild(dropdown)\r\n      }\r\n      window.removeEventListener('scroll', this.updateDropdownPos)\r\n    },\r\n\r\n    blurEvent () {\r\n      if (this.manualInput && !this.opts.hideDropdown) {\r\n        // hideDropdown's `blur` event is handled somewhere else\r\n        this.$emit('blur')\r\n      }\r\n    },\r\n\r\n    select (type, value) {\r\n      if (this.isBasicType(type) && !this.isDisabled(type, value)) {\r\n        this[type] = value\r\n        if (this.doClearApmChecking) {\r\n          this.doClearApmChecking = false\r\n        }\r\n      }\r\n    },\r\n\r\n    clearTime () {\r\n      if (this.disabled) { return }\r\n      this.hour = ''\r\n      this.minute = ''\r\n      this.second = ''\r\n      this.apm = ''\r\n\r\n      if (this.manualInput && this.$refs && this.$refs.input && this.$refs.input.value.length) {\r\n        this.$refs.input.value = ''\r\n      }\r\n\r\n      if (this.lazy) {\r\n        this.fillValues(true)\r\n      }\r\n    },\r\n\r\n    //\r\n    // Auto-Scroll\r\n    //\r\n\r\n    checkForAutoScroll () {\r\n      if (this.inputIsEmpty) { return }\r\n      if (this.autoScroll) {\r\n        nextTick(() => {\r\n          this.scrollToSelectedValues()\r\n        })\r\n      } else if (this.advancedKeyboard) {\r\n        // Auto-focus on selected value in the first column for advanced-keyboard\r\n        nextTick(() => {\r\n          const firstColumn = this.inUse.types[0]\r\n          this.scrollToSelected(firstColumn, true)\r\n        })\r\n      }\r\n    },\r\n\r\n    scrollToSelected (column, allowFallback = false) {\r\n      if (!this.timeValue || this.inputIsEmpty) { return }\r\n      const targetList = this.$el.querySelectorAll(`ul.${column}s`)[0]\r\n      let targetValue = this.activeItemInCol(column)[0]\r\n      if (!targetValue && allowFallback) {\r\n        // No value selected in the target column, fallback to the first found valid item\r\n        targetValue = this.validItemsInCol(column)[0]\r\n      }\r\n      if (targetList && targetValue) {\r\n        targetList.scrollTop = targetValue.offsetTop || 0\r\n        if (this.advancedKeyboard) {\r\n          targetValue.focus()\r\n        }\r\n      }\r\n    },\r\n\r\n    scrollToSelectedValues () {\r\n      if (!this.timeValue || this.inputIsEmpty) { return }\r\n      this.inUse.types.forEach(section => {\r\n        this.scrollToSelected(section)\r\n      })\r\n    },\r\n\r\n    //\r\n    // Additional Keyboard Navigation\r\n    //\r\n\r\n    onFocus () {\r\n      if (this.disabled) { return }\r\n      if (!this.isFocusing) {\r\n        this.isFocusing = true\r\n      }\r\n      if (!this.isActive) {\r\n        this.toggleActive()\r\n      }\r\n    },\r\n\r\n    escBlur () {\r\n      if (this.disabled) { return }\r\n      window.clearTimeout(this.debounceTimer)\r\n      this.isFocusing = false\r\n      const inputBox = this.$el.querySelectorAll('input.vue__time-picker-input')[0]\r\n      if (inputBox) {\r\n        inputBox.blur()\r\n      }\r\n    },\r\n\r\n    debounceBlur () {\r\n      if (this.disabled) { return }\r\n      this.isFocusing = false\r\n      window.clearTimeout(this.debounceTimer)\r\n      this.debounceTimer = window.setTimeout(() => {\r\n        window.clearTimeout(this.debounceTimer)\r\n        this.onBlur()\r\n      }, this.opts.blurDelay)\r\n    },\r\n\r\n    onBlur () {\r\n      if (!this.disabled && !this.isFocusing && this.isActive) {\r\n        this.toggleActive()\r\n      }\r\n    },\r\n\r\n    keepFocusing () {\r\n      if (this.disabled) { return }\r\n      window.clearTimeout(this.debounceTimer)\r\n      if (!this.isFocusing) {\r\n        this.isFocusing = true\r\n      }\r\n    },\r\n\r\n    validItemsInCol (column) {\r\n      const columnClass = `${column}s`\r\n      return this.$el.querySelectorAll(`ul.${columnClass} > li:not(.hint):not([disabled])`)\r\n    },\r\n\r\n    activeItemInCol (column) {\r\n      const columnClass = `${column}s`\r\n      return this.$el.querySelectorAll(`ul.${columnClass} > li.active:not(.hint)`)\r\n    },\r\n\r\n    getClosestSibling (column, dataKey, getPrevious = false) {\r\n      const siblingsInCol = this.validItemsInCol(column)\r\n      const selfIndex = Array.prototype.findIndex.call(siblingsInCol, (sbl) => {\r\n        return sbl.getAttribute('data-key') === dataKey\r\n      })\r\n\r\n      // Already the first item\r\n      if (getPrevious && selfIndex === 0) {\r\n        return siblingsInCol[siblingsInCol.length - 1]\r\n      }\r\n      // Already the last item\r\n      if (!getPrevious && selfIndex === siblingsInCol.length - 1) {\r\n        return siblingsInCol[0]\r\n      }\r\n      // Selected value not in the valid values list\r\n      if (selfIndex < 0) {\r\n        return siblingsInCol[0]\r\n      }\r\n\r\n      if (getPrevious) {\r\n        return siblingsInCol[selfIndex - 1]\r\n      }\r\n      return siblingsInCol[selfIndex + 1]\r\n    },\r\n\r\n    prevItem (column, dataKey, isManualInput = false) {\r\n      const targetItem = this.getClosestSibling(column, dataKey, true)\r\n      if (targetItem) {\r\n        return isManualInput ? targetItem : targetItem.focus()\r\n      }\r\n    },\r\n\r\n    nextItem (column, dataKey, isManualInput = false) {\r\n      const targetItem = this.getClosestSibling(column, dataKey, false)\r\n      if (targetItem) {\r\n        return isManualInput ? targetItem : targetItem.focus()\r\n      }\r\n    },\r\n\r\n    getSideColumnName (currentColumn, toLeft = false) {\r\n      const currentColumnIndex = this.inUse.types.indexOf(currentColumn)\r\n      if (toLeft && currentColumnIndex <= 0) {\r\n        if (this.debugMode) {\r\n          this.debugLog('You\\'re in the leftmost list already')\r\n        }\r\n        return\r\n      } else if (!toLeft && currentColumnIndex === (this.inUse.types.length - 1)) {\r\n        if (this.debugMode) {\r\n          this.debugLog('You\\'re in the rightmost list already')\r\n        }\r\n        return\r\n      }\r\n      return this.inUse.types[toLeft ? currentColumnIndex - 1 : currentColumnIndex + 1]\r\n    },\r\n\r\n    getFirstItemInSideColumn (currentColumn, toLeft = false) {\r\n      const targetColumn = this.getSideColumnName(currentColumn, toLeft)\r\n      if (!targetColumn) { return }\r\n      const listItems = this.validItemsInCol(targetColumn)\r\n      if (listItems && listItems[0]) {\r\n        return listItems[0]\r\n      }\r\n    },\r\n\r\n    getActiveItemInSideColumn (currentColumn, toLeft = false) {\r\n      const targetColumn = this.getSideColumnName(currentColumn, toLeft)\r\n      if (!targetColumn) { return }\r\n      const activeItems = this.activeItemInCol(targetColumn)\r\n      if (activeItems && activeItems[0]) {\r\n        return activeItems[0]\r\n      }\r\n    },\r\n\r\n    toLeftColumn (currentColumn) {\r\n      const targetItem = this.getActiveItemInSideColumn(currentColumn, true) || this.getFirstItemInSideColumn(currentColumn, true)\r\n      if (targetItem) {\r\n        targetItem.focus()\r\n      }\r\n    },\r\n\r\n    toRightColumn (currentColumn) {\r\n      const targetItem = this.getActiveItemInSideColumn(currentColumn, false) || this.getFirstItemInSideColumn(currentColumn, false)\r\n      if (targetItem) {\r\n        targetItem.focus()\r\n      }\r\n    },\r\n\r\n    //\r\n    // Manual Input\r\n    //\r\n\r\n    onMouseDown () {\r\n      if (!this.manualInput) { return }\r\n      window.clearTimeout(this.selectionTimer)\r\n      this.selectionTimer = window.setTimeout(() => {\r\n        window.clearTimeout(this.selectionTimer)\r\n        if (this.$refs && this.$refs.input) {\r\n          const nearestSlot = this.getNearestChunkByPos(this.$refs.input.selectionStart || 0)\r\n          this.debounceSetInputSelection(nearestSlot)\r\n        }\r\n      }, 50)\r\n    },\r\n\r\n    keyDownHandler (evt) {\r\n      if (evt.isComposing || evt.keyCode === 229) {\r\n        // Skip IME inputs\r\n        evt.preventDefault()\r\n        evt.stopPropagation()\r\n        return false\r\n      }\r\n      // Numbers\r\n      if ((evt.keyCode >= 48 && evt.keyCode <= 57) || (evt.keyCode >= 96 && evt.keyCode <= 105)) {\r\n        evt.preventDefault()\r\n        this.keyboardInput(evt.key)\r\n      // A|P|M\r\n      } else if ([65, 80, 77].includes(evt.keyCode)) {\r\n        evt.preventDefault()\r\n        this.keyboardInput(evt.key, true)\r\n      // Arrow keys\r\n      } else if (evt.keyCode >= 37 && evt.keyCode <= 40) {\r\n        evt.preventDefault()\r\n        this.clearKbInputLog()\r\n        this.arrowHandler(evt)\r\n      // Delete|Backspace\r\n      } else if (evt.keyCode === 8 || evt.keyCode === 46) {\r\n        evt.preventDefault()\r\n        this.clearKbInputLog()\r\n        this.clearTime()\r\n      // Tab\r\n      } else if (evt.keyCode === 9) {\r\n        this.clearKbInputLog()\r\n        this.tabHandler(evt)\r\n      // Prevent any Non-ESC and non-pasting inputs\r\n      } else if (evt.keyCode !== 27 && !(evt.metaKey || evt.ctrlKey)) {\r\n        evt.preventDefault()\r\n      }\r\n    },\r\n\r\n    onCompostionStart (evt) {\r\n      evt.preventDefault()\r\n      evt.stopPropagation()\r\n      this.bakCurrentPos = this.getCurrentTokenChunk()\r\n      return false\r\n    },\r\n\r\n    onCompostionEnd (evt) {\r\n      evt.preventDefault()\r\n      evt.stopPropagation()\r\n\r\n      const cpsData = evt.data\r\n      let inputIsCustomApmText = false\r\n      if (this.has.customApmText) {\r\n        inputIsCustomApmText = this.isCustomApmText(cpsData)\r\n      }\r\n      if (inputIsCustomApmText) {\r\n        this.setSanitizedValueToSection('apm', inputIsCustomApmText)\r\n      }\r\n\r\n      this.$refs.input.value = this.has.customApmText ? this.customDisplayTime : this.displayTime\r\n\r\n      nextTick(() => {\r\n        if (this.bakCurrentPos) {\r\n          const bakPos = JSON.parse(JSON.stringify(this.bakCurrentPos))\r\n          if (inputIsCustomApmText) {\r\n            bakPos.end = (bakPos.start + cpsData.length)\r\n          }\r\n          this.debounceSetInputSelection(bakPos)\r\n          this.bakCurrentPos = null\r\n        }\r\n      })\r\n      return false\r\n    },\r\n\r\n    pasteHandler (evt) {\r\n      evt.preventDefault()\r\n      let pastingText = (evt.clipboardData || window.clipboardData).getData('text')\r\n      if (this.debugMode) {\r\n        this.debugLog(`Pasting value \"${pastingText}\" from clipboard`)\r\n      }\r\n      if (!pastingText || !pastingText.length) { return }\r\n\r\n      // Replace custom AM/PM text (if any)\r\n      if (this.has.customApmText) {\r\n        pastingText = this.replaceCustomApmText(pastingText)\r\n      }\r\n\r\n      if (this.inputIsEmpty) {\r\n        this.readStringValues(pastingText)\r\n      } else {\r\n        this.kbInputLog = pastingText.substr(-2, 2)\r\n        this.setKbInput()\r\n        this.debounceClearKbLog()\r\n      }\r\n    },\r\n\r\n    arrowHandler (evt) {\r\n      const direction = { 37: 'L', 38: 'U', 39: 'R', 40: 'D' }[evt.keyCode]\r\n      if (direction === 'U' || direction === 'D') {\r\n        if (this.inputIsEmpty) {\r\n          this.selectFirstValidValue()\r\n        } else {\r\n          const currentChunk = this.getCurrentTokenChunk()\r\n          if (!currentChunk) {\r\n            this.selectFirstValidValue()\r\n            return\r\n          }\r\n          const tokenType = currentChunk.type\r\n          this.getClosestValidItemInCol(tokenType, this[tokenType], direction)\r\n          const newChunkPos = this.getCurrentTokenChunk()\r\n          this.debounceSetInputSelection(newChunkPos)\r\n        }\r\n      } else if (direction === 'R') {\r\n        this.toLateralToken(false)\r\n      } else if (direction === 'L') {\r\n        this.toLateralToken(true)\r\n      }\r\n    },\r\n\r\n    tabHandler (evt) {      \r\n      if (!this.inputIsEmpty && this.tokenChunksPos && this.tokenChunksPos.length) {\r\n        const currentChunk = this.getCurrentTokenChunk()\r\n        if (!currentChunk) { return }\r\n        const firstChunk = this.tokenChunksPos[0]\r\n        const lastChunk = this.tokenChunksPos[this.tokenChunksPos.length - 1]\r\n        if ((evt.shiftKey && currentChunk.token !== firstChunk.token) || (!evt.shiftKey && currentChunk.token !== lastChunk.token)) {\r\n          evt.preventDefault()\r\n          this.toLateralToken(evt.shiftKey)\r\n        }\r\n      }\r\n    },\r\n\r\n    keyboardInput (newChar, isApm = false) {\r\n      const currentChunk = this.getCurrentTokenChunk()\r\n      if (!currentChunk || (currentChunk.type !== 'apm' && isApm) || (currentChunk.type === 'apm' && !isApm)) { return }\r\n      this.kbInputLog = `${this.kbInputLog.substr(-1)}${newChar}`\r\n      this.setKbInput()\r\n      this.debounceClearKbLog()\r\n    },\r\n\r\n    clearKbInputLog () {\r\n      window.clearTimeout(this.kbInputTimer)\r\n      this.kbInputLog = ''\r\n    },\r\n\r\n    debounceClearKbLog () {\r\n      window.clearTimeout(this.kbInputTimer)\r\n      this.kbInputTimer = window.setTimeout(() => {\r\n        this.clearKbInputLog()\r\n      }, this.opts.manualInputTimeout)\r\n    },\r\n\r\n    setKbInput (value) {\r\n      value = value || this.kbInputLog\r\n      const currentChunk = this.getCurrentTokenChunk()\r\n      if (!currentChunk || !value || !value.length) { return }\r\n      const chunkType = currentChunk.type\r\n      const chunkToken = currentChunk.token\r\n\r\n      let validValue\r\n      if (chunkType === 'apm') {\r\n        if (this.lowerCasedApm(value).includes('a')) {\r\n          validValue = 'am'\r\n        } else if (this.lowerCasedApm(value).includes('p')) {\r\n          validValue = 'pm'\r\n        }\r\n        if (validValue) {\r\n          validValue = chunkToken === 'A' ? validValue.toUpperCase() : validValue\r\n        }\r\n      } else {\r\n        if (this.isValidValue(chunkToken, value)) {\r\n          validValue = value\r\n        } else {\r\n          const lastInputValue = this.formatValue(chunkToken, value.substr(-1))\r\n          if (this.isValidValue(chunkToken, lastInputValue)) {\r\n            validValue = lastInputValue\r\n          }\r\n        }\r\n      }\r\n\r\n      if (validValue) {\r\n        this.setSanitizedValueToSection(chunkType, validValue)\r\n        const newChunkPos = this.getCurrentTokenChunk()\r\n        this.debounceSetInputSelection(newChunkPos)      \r\n      }\r\n      if (this.debugMode) {\r\n        if (validValue) {\r\n          this.debugLog(`Successfully set value \"${validValue}\" from latest input \"${value}\" for the \"${chunkType}\" slot`)\r\n        } else {\r\n          this.debugLog(`Value \"${value}\" is invalid in the \"${chunkType}\" slot`)\r\n        }\r\n      }\r\n    },\r\n\r\n    // Form Autofill\r\n    onChange () {\r\n      if (!this.manualInput || !this.$refs || !this.$refs.input) { return }\r\n      const autoFillValue = this.$refs.input.value || ''\r\n      if (autoFillValue && autoFillValue.length) {\r\n        this.readStringValues(autoFillValue)\r\n      }\r\n    },\r\n\r\n    getNearestChunkByPos (startPos) {\r\n      if (!this.tokenChunksPos || !this.tokenChunksPos.length) { return }\r\n      let nearest\r\n      let nearestDelta = -1\r\n      for (let i = 0; i < this.tokenChunksPos.length; i++) {\r\n        const chunk = JSON.parse(JSON.stringify(this.tokenChunksPos[i]))\r\n        if (chunk.start === startPos) {\r\n          return chunk\r\n        }\r\n        const delta = Math.abs(chunk.start - startPos)\r\n        if (nearestDelta < 0) {\r\n          nearest = chunk\r\n          nearestDelta = delta\r\n        } else {\r\n          if (nearestDelta <= delta) {\r\n            return nearest\r\n          }\r\n          nearestDelta = delta\r\n          nearest = chunk\r\n        }\r\n      }\r\n      return nearest\r\n    },\r\n\r\n    selectFirstValidValue () {\r\n      if (!this.tokenChunksPos || !this.tokenChunksPos.length) { return }\r\n      const firstSlotType = this.tokenChunksPos[0].type\r\n      if (firstSlotType === 'hour') {\r\n        this.getClosestHourItem()\r\n      } else {\r\n        this.getClosestValidItemInCol(firstSlotType, this[firstSlotType])\r\n      }\r\n      this.selectFirstSlot()\r\n    },\r\n\r\n    getClosestHourItem (currentValue, direction = 'U') {\r\n      if (!this.validHoursList || !this.validHoursList.length) {\r\n        if (this.debugMode) {\r\n          this.debugLog(`No valid hour values found, please check your \"hour-range\" config\\nhour-range: ${JSON.stringify(this.hourRange)}`)\r\n        }\r\n        return\r\n      }\r\n      if (!currentValue) {\r\n        this.setManualHour(this.validHoursList[0])\r\n        return\r\n      }\r\n      const currentIndex = this.validHoursList.findIndex(item => {\r\n        if (!this.baseOn12Hours) {\r\n          return item === currentValue\r\n        } else {\r\n          const valueKey = `${currentValue}${this.lowerCasedApm(this.apm) === 'pm' ? 'p' : 'a'}` \r\n          return item === valueKey\r\n        }\r\n      })\r\n      let nextIndex\r\n      if (currentIndex === -1) {\r\n        nextIndex = 0\r\n      } else if (direction === 'D') {\r\n        nextIndex = currentIndex === 0 ? this.validHoursList.length - 1 : currentIndex - 1\r\n      } else {\r\n        nextIndex = (currentIndex + 1) % this.validHoursList.length\r\n      }\r\n      const nextItem = this.validHoursList[nextIndex]\r\n      this.setManualHour(nextItem)\r\n    },\r\n\r\n    getClosestValidItemInCol (column, currentValue, direction = 'U') {\r\n      if (column === 'hour') {\r\n        this.getClosestHourItem(currentValue, direction)\r\n      } else {\r\n        const nextItem = direction === 'D' ? this.prevItem(column, this[column], true) : this.nextItem(column, this[column], true)\r\n        if (nextItem) {\r\n          this.select(column, nextItem.getAttribute('data-key'))\r\n        }\r\n      }\r\n    },\r\n\r\n    setSanitizedValueToSection (section, inputValue) {\r\n      if (!section || !this.getTokenByType(section)) { return }\r\n      // NOTE: Disabled values are allowed here, followed by an 'error' event, though\r\n      const sanitizedValue = this.sanitizedValue(this.getTokenByType(section), inputValue)\r\n      this[section] = sanitizedValue\r\n    },\r\n\r\n    setManualHour (nextItem) {\r\n      if (this.is12hRange(nextItem)) {\r\n        const hourT = this.match12hRange(nextItem)\r\n        const apmValue = hourT[2] === 'a' ? 'AM' : 'PM'\r\n        this.setSanitizedValueToSection('apm', this.apmType === 'a' ? apmValue.toLowerCase() : apmValue)\r\n        this.setSanitizedValueToSection('hour', hourT[1])\r\n      } else {\r\n        this.setSanitizedValueToSection('hour', nextItem)\r\n      }\r\n    },\r\n\r\n    debounceSetInputSelection ({start = 0, end = 0 }) {\r\n      nextTick(() => {\r\n        this.setInputSelectionRange(start, end)\r\n      })\r\n      window.clearTimeout(this.selectionTimer)\r\n      this.selectionTimer = window.setTimeout(() => {\r\n        window.clearTimeout(this.selectionTimer)\r\n        // Double-check selection for 12hr format\r\n        if (this.$refs.input && (this.$refs.input.selectionStart !== start || this.$refs.input.selectionEnd !== end)) {\r\n          this.setInputSelectionRange(start, end)\r\n        }\r\n      }, 30)\r\n    },\r\n\r\n    setInputSelectionRange (start, end) {\r\n      if (this.$refs && this.$refs.input) {\r\n        this.$refs.input.setSelectionRange(start, end)\r\n      }\r\n    },\r\n\r\n    getCurrentTokenChunk () {\r\n      return this.getNearestChunkByPos((this.$refs.input && this.$refs.input.selectionStart) || 0)\r\n    },\r\n\r\n    selectFirstSlot () {\r\n      const firstChunkPos = this.getNearestChunkByPos(0)\r\n      this.debounceSetInputSelection(firstChunkPos)\r\n    },\r\n\r\n    toLateralToken (toLeft) {\r\n      const currentChunk = this.getCurrentTokenChunk()\r\n      if (!currentChunk) {\r\n        this.selectFirstValidValue()\r\n        return\r\n      }\r\n      const currentChunkIndex = this.tokenChunksPos.findIndex(chk => chk.token === currentChunk.token)\r\n      if ((!toLeft && currentChunkIndex >= this.tokenChunksPos.length - 1) || (toLeft && currentChunkIndex === 0)) {\r\n        if (this.debugMode) {\r\n          if (toLeft) {\r\n            this.debugLog('You\\'re in the leftmost slot already')\r\n          } else {\r\n            this.debugLog('You\\'re in the rightmost slot already')\r\n          }\r\n        }\r\n        return\r\n      }\r\n      const targetSlotPos = toLeft ? this.tokenChunksPos[currentChunkIndex - 1] : this.tokenChunksPos[currentChunkIndex + 1]\r\n      this.debounceSetInputSelection(targetSlotPos)\r\n    },\r\n\r\n    isCustomApmText (inputData) {\r\n      if (!inputData || !inputData.length) { return false }\r\n      if (this.amText && this.amText === inputData) {\r\n        return this.apmType === 'A' ? 'AM' : 'am'\r\n      }\r\n      if (this.pmText && this.pmText === inputData) {\r\n        return this.apmType === 'A' ? 'PM' : 'pm'\r\n      }\r\n      return false\r\n    },\r\n\r\n    replaceCustomApmText (inputString) {\r\n      if (this.amText && this.amText.length && inputString.includes(this.amText)) {\r\n        return inputString.replace(new RegExp(this.amText, 'g'), this.apmType === 'A' ? 'AM' : 'am')\r\n      } else if (this.pmText && this.pmText.length && inputString.includes(this.pmText)) {\r\n        return inputString.replace(new RegExp(this.pmText, 'g'), this.apmType === 'A' ? 'PM' : 'pm')\r\n      }\r\n      return inputString\r\n    },\r\n\r\n    checkDropDirection () {\r\n      if (!this.$el) { return }\r\n      let container\r\n      if (this.containerId && this.containerId.length) {\r\n        container = document.getElementById(this.containerId)\r\n        if (!container && this.debugMode) {\r\n          this.debugLog(`Container with id \"${this.containerId}\" not found. Fallback to document body.`)\r\n        }\r\n      }\r\n      const el = this.$el\r\n      let spaceDown\r\n      if (container && container.offsetHeight) {\r\n        // Valid container found\r\n        spaceDown = (container.offsetTop + container.offsetHeight) - (el.offsetTop + el.offsetHeight)\r\n      } else {\r\n        // Fallback to document body\r\n        const docHeight = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.body.clientHeight, document.documentElement.clientHeight)\r\n        spaceDown = docHeight - (el.offsetTop + el.offsetHeight)\r\n      }\r\n      this.forceDropOnTop = this.opts.dropOffsetHeight > spaceDown\r\n    },\r\n\r\n    //\r\n    // Helpers\r\n    //\r\n\r\n    is12hRange (value) {\r\n      return /^\\d{1,2}(a|p|A|P)$/.test(value)\r\n    },\r\n\r\n    match12hRange (value) {\r\n      return value.match(/^(\\d{1,2})(a|p|A|P)$/)\r\n    },\r\n\r\n    isNumber (value) {\r\n      return !isNaN(parseFloat(value)) && isFinite(value)\r\n    },\r\n\r\n    isBasicType (type) {\r\n      return CONFIG.BASIC_TYPES.includes(type)\r\n    },\r\n\r\n    lowerCasedApm (apmValue) {\r\n      return (apmValue || '').toLowerCase()\r\n    },\r\n\r\n    getTokenRegex (token) {\r\n      switch (token) {\r\n        case 'HH':\r\n          return '([01][0-9]|2[0-3]|H{2})'\r\n        case 'H':\r\n          return '([0-9]{1}|1[0-9]|2[0-3]|H{1})'\r\n        case 'hh':\r\n          return '(0[1-9]|1[0-2]|h{2})'\r\n        case 'h':\r\n          return '([1-9]{1}|1[0-2]|h{1})'\r\n        case 'kk':\r\n          return '(0[1-9]|1[0-9]|2[0-4]|k{2})'\r\n        case 'k':\r\n          return '([1-9]{1}|1[0-9]|2[0-4]|k{1})'\r\n        case 'mm':\r\n          return '([0-5][0-9]|m{2})'\r\n        case 'ss':\r\n          return '([0-5][0-9]|s{2})'\r\n        case 'm':\r\n          return '([0-9]{1}|[1-5][0-9]|m{1})'\r\n        case 's':\r\n          return '([0-9]{1}|[1-5][0-9]|s{1})'\r\n        case 'A':\r\n          return '(AM|PM|A{1})'\r\n        case 'a':\r\n          return '(am|pm|a{1})'\r\n        default:\r\n          return ''\r\n      }\r\n    },\r\n\r\n    isEmptyValue (targetToken, testValue) {\r\n      return (!testValue || !testValue.length) || (testValue && testValue === targetToken)\r\n    },\r\n\r\n    isValidValue (targetToken, testValue) {\r\n      if (!targetToken || this.isEmptyValue(targetToken, testValue)) { return false }\r\n      const tokenRegexStr = this.getTokenRegex(targetToken)\r\n      if (!tokenRegexStr || !tokenRegexStr.length) { return false }\r\n      return (new RegExp(`^${tokenRegexStr}$`)).test(testValue)\r\n    },\r\n\r\n    sanitizedValue (targetToken, inputValue) {\r\n      if (this.isValidValue(targetToken, inputValue)) {\r\n        return inputValue\r\n      }\r\n      return ''\r\n    },\r\n\r\n    getTokenType (token) {\r\n      return this.inUse.types[this.inUse.tokens.indexOf(token)] || ''\r\n    },\r\n\r\n    getTokenByType (type) {\r\n      return this[`${type}Type`] || ''\r\n    },\r\n\r\n    isMinuteOrSecond (type) {\r\n      return ['minute', 'second'].includes(type)\r\n    },\r\n\r\n    // Breaking attribution coercion changes in Vue 3\r\n    // > https://v3.vuejs.org/guide/migration/attribute-coercion.html#overview\r\n    booleanAttr (isTrue = false) {\r\n      return isTrue ? true : null\r\n    },\r\n\r\n    debugLog (logText) {\r\n      if (!logText || !logText.length) { return }\r\n      let identifier = ''\r\n      if (this.id) {\r\n        identifier += `#${this.id}`\r\n      }\r\n      if (this.name) {\r\n        identifier += `[name=${this.name}]`\r\n      }\r\n      if (this.inputClass) {\r\n        let inputClasses = []\r\n        if (typeof this.inputClass === 'string') {\r\n          inputClasses = this.inputClass.split(/\\s/g)\r\n        } else if (Array.isArray(this.inputClass)) {\r\n          inputClasses = [].concat([], this.inputClass)\r\n        } else if (typeof this.inputClass === 'object') {\r\n          Object.keys(this.inputClass).forEach(clsName => {\r\n            if (this.inputClass[clsName]) {\r\n              inputClasses.push(clsName)\r\n            }\r\n          })\r\n        }\r\n        for (let inputClass of inputClasses) {\r\n          if (inputClass && inputClass.trim().length) {\r\n            identifier += `.${inputClass.trim()}`\r\n          }\r\n        }\r\n      }\r\n      const finalLogText = `DEBUG: ${logText}${identifier ? `\\n\\t(${identifier})` : '' }`\r\n      if (window.console.debug && typeof window.console.debug === 'function') {\r\n        window.console.debug(finalLogText)\r\n      } else {\r\n        window.console.log(finalLogText)\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    window.clearTimeout(this.debounceTimer)\r\n    window.clearTimeout(this.selectionTimer)\r\n    window.clearTimeout(this.kbInputTimer)\r\n    this.renderFormat()\r\n  },\r\n\r\n  beforeUnmount () {\r\n    window.clearTimeout(this.debounceTimer)\r\n    window.clearTimeout(this.selectionTimer)\r\n    window.clearTimeout(this.kbInputTimer)\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n<span class=\"vue__time-picker\" :style=\"inputWidthStyle\">\r\n  <input type=\"text\" class=\"vue__time-picker-input\" ref=\"input\"\r\n         :class=\"[inputClass, {'is-empty': inputIsEmpty, 'invalid': hasInvalidInput, 'all-selected': allValueSelected, 'disabled': disabled, 'has-custom-icon': $slots && $slots.icon }]\"\r\n         :style=\"inputWidthStyle\"\r\n         :id=\"id\"\r\n         :name=\"name\"\r\n         :value=\"inputIsEmpty ? null : customDisplayTime\"\r\n         :placeholder=\"placeholder ? placeholder : formatString\"\r\n         :tabindex=\"disabled ? -1 : tabindex\"\r\n         :disabled=\"booleanAttr(disabled)\"\r\n         :readonly=\"booleanAttr(!manualInput)\"\r\n         :autocomplete=\"autocomplete\"\r\n         @focus=\"onFocus\"\r\n         @change=\"onChange\"\r\n         @blur=\"debounceBlur(); blurEvent()\"\r\n         @mousedown=\"onMouseDown\"\r\n         @keydown=\"keyDownHandler\"\r\n         @compositionstart=\"onCompostionStart\"\r\n         @compositionend=\"onCompostionEnd\"\r\n         @paste=\"pasteHandler\"\r\n         @keydown.esc.exact=\"escBlur\" />\r\n  <div class=\"controls\" v-if=\"showClearBtn || showDropdownBtn\" tabindex=\"-1\">\r\n    <span v-if=\"!isActive && showClearBtn\" class=\"clear-btn\" tabindex=\"-1\"\r\n          :class=\"{'has-custom-btn': $slots && $slots.clearButton }\"\r\n          @click=\"clearTime\">\r\n      <slot name=\"clearButton\"><span class=\"char\">&times;</span></slot>\r\n    </span>\r\n    <span v-if=\"showDropdownBtn\" class=\"dropdown-btn\" tabindex=\"-1\"\r\n          :class=\"{'has-custom-btn': $slots && $slots.dropdownButton }\"\r\n          @click=\"setDropdownState(fixedDropdownButton ? !showDropdown : true, true)\"\r\n          @mousedown=\"keepFocusing\">\r\n      <slot name=\"dropdownButton\"><span class=\"char\">&dtrif;</span></slot>\r\n    </span>\r\n  </div>\r\n  <div class=\"custom-icon\" v-if=\"$slots && $slots.icon\"><slot name=\"icon\"></slot></div>\r\n  <div class=\"time-picker-overlay\" v-if=\"showDropdown\" @click=\"toggleActive\" tabindex=\"-1\"></div>\r\n  <div class=\"dropdown\" v-show=\"showDropdown\" tabindex=\"-1\"\r\n       :class=\"[dropdownDirClass]\" :style=\"inputWidthStyle\"\r\n       @mouseup=\"keepFocusing\" @click.stop=\"\">\r\n    <div class=\"select-list\" :style=\"inputWidthStyle\" tabindex=\"-1\">\r\n      <!-- Common Keyboard Support: less event listeners -->\r\n      <template v-if=\"!advancedKeyboard\">\r\n        <template v-for=\"column in columnsSequence\" :key=\"column\">\r\n          <ul v-if=\"column === 'hour'\" class=\"hours\" @scroll=\"keepFocusing\">\r\n            <li class=\"hint\" v-text=\"hourLabelText\"></li>\r\n            <template v-for=\"(hr, hIndex) in hours\" :key=\"hIndex\">\r\n              <li v-if=\"!opts.hideDisabledHours || (opts.hideDisabledHours && !isDisabled('hour', hr))\"\r\n                  :class=\"{active: hour === hr}\"\r\n                  :disabled=\"booleanAttr(isDisabled('hour', hr))\"\r\n                  :data-key=\"hr\"\r\n                  v-text=\"hr\"\r\n                  @click=\"select('hour', hr)\"></li>\r\n            </template>\r\n          </ul>\r\n          <ul v-if=\"column === 'minute'\" class=\"minutes\" @scroll=\"keepFocusing\">\r\n            <li class=\"hint\" v-text=\"minuteLabelText\"></li>\r\n            <template v-for=\"(m, mIndex) in minutes\" :key=\"mIndex\">\r\n              <li v-if=\"!opts.hideDisabledMinutes || (opts.hideDisabledMinutes && !isDisabled('minute', m))\"\r\n                  :class=\"{active: minute === m}\"\r\n                  :disabled=\"booleanAttr(isDisabled('minute', m))\"\r\n                  :data-key=\"m\"\r\n                  v-text=\"m\"\r\n                  @click=\"select('minute', m)\"></li>\r\n            </template>\r\n          </ul>\r\n          <ul v-if=\"column === 'second'\" class=\"seconds\" @scroll=\"keepFocusing\">\r\n            <li class=\"hint\" v-text=\"secondLabelText\"></li>\r\n            <template v-for=\"(s, sIndex) in seconds\" :key=\"sIndex\">\r\n              <li v-if=\"!opts.hideDisabledSeconds || (opts.hideDisabledSeconds && !isDisabled('second', s))\"\r\n                  :class=\"{active: second === s}\"\r\n                  :disabled=\"booleanAttr(isDisabled('second', s))\"\r\n                  :data-key=\"s\"\r\n                  v-text=\"s\"\r\n                  @click=\"select('second', s)\"></li>\r\n            </template>\r\n          </ul>\r\n          <ul v-if=\"column === 'apm'\" class=\"apms\" @scroll=\"keepFocusing\">\r\n            <li class=\"hint\" v-text=\"apmLabelText\"></li>\r\n            <template v-for=\"(a, aIndex) in apms\" :key=\"aIndex\">\r\n              <li v-if=\"!opts.hideDisabledHours || (opts.hideDisabledHours && !isDisabled('apm', a))\"\r\n                  :class=\"{active: apm === a}\"\r\n                  :disabled=\"booleanAttr(isDisabled('apm', a))\"\r\n                  :data-key=\"a\"\r\n                  v-text=\"apmDisplayText(a)\"\r\n                  @click=\"select('apm', a)\"></li>\r\n            </template>\r\n          </ul>\r\n        </template>\r\n      </template><!-- / Common Keyboard Support -->\r\n\r\n      <!--\r\n        Advanced Keyboard Support\r\n        Addeds hundreds of additional event lisenters\r\n      -->\r\n      <template v-if=\"advancedKeyboard\">\r\n        <template v-for=\"column in columnsSequence\" :key=\"column\">\r\n          <ul v-if=\"column === 'hour'\" class=\"hours\" tabindex=\"-1\" @scroll=\"keepFocusing\">\r\n            <li class=\"hint\" v-text=\"hourLabelText\" tabindex=\"-1\"></li>\r\n            <template v-for=\"(hr, hIndex) in hours\" :key=\"hIndex\">\r\n              <li v-if=\"!opts.hideDisabledHours || (opts.hideDisabledHours && !isDisabled('hour', hr))\"\r\n                  :class=\"{active: hour === hr}\"\r\n                  :tabindex=\"isDisabled('hour', hr) ? -1 : tabindex\"\r\n                  :data-key=\"hr\"\r\n                  :disabled=\"booleanAttr(isDisabled('hour', hr))\"\r\n                  v-text=\"hr\"\r\n                  @click=\"select('hour', hr)\"\r\n                  @keydown.space.prevent=\"select('hour', hr)\"\r\n                  @keydown.enter.prevent=\"select('hour', hr)\"\r\n                  @keydown.up.prevent=\"prevItem('hour', hr)\"\r\n                  @keydown.down.prevent=\"nextItem('hour', hr)\"\r\n                  @keydown.left.prevent=\"toLeftColumn('hour')\"\r\n                  @keydown.right.prevent=\"toRightColumn('hour')\"\r\n                  @keydown.esc.exact=\"debounceBlur\"\r\n                  @blur=\"debounceBlur\"\r\n                  @focus=\"keepFocusing\"></li>\r\n            </template>\r\n          </ul>\r\n          <ul v-if=\"column === 'minute'\" class=\"minutes\" tabindex=\"-1\" @scroll=\"keepFocusing\">\r\n            <li class=\"hint\" v-text=\"minuteLabelText\" tabindex=\"-1\"></li>\r\n            <template v-for=\"(m, mIndex) in minutes\" :key=\"mIndex\">\r\n              <li v-if=\"!opts.hideDisabledMinutes || (opts.hideDisabledMinutes && !isDisabled('minute', m))\"\r\n                  :class=\"{active: minute === m}\"\r\n                  :tabindex=\"isDisabled('minute', m) ? -1 : tabindex\"\r\n                  :data-key=\"m\"\r\n                  :disabled=\"booleanAttr(isDisabled('minute', m))\"\r\n                  v-text=\"m\"\r\n                  @click=\"select('minute', m)\"\r\n                  @keydown.space.prevent=\"select('minute', m)\"\r\n                  @keydown.enter.prevent=\"select('minute', m)\"\r\n                  @keydown.up.prevent=\"prevItem('minute', m)\"\r\n                  @keydown.down.prevent=\"nextItem('minute', m)\"\r\n                  @keydown.left.prevent=\"toLeftColumn('minute')\"\r\n                  @keydown.right.prevent=\"toRightColumn('minute')\"\r\n                  @keydown.esc.exact=\"debounceBlur\"\r\n                  @blur=\"debounceBlur\"\r\n                  @focus=\"keepFocusing\"></li>\r\n            </template>\r\n          </ul>\r\n          <ul v-if=\"column === 'second'\" class=\"seconds\" tabindex=\"-1\" @scroll=\"keepFocusing\">\r\n            <li class=\"hint\" v-text=\"secondLabelText\" tabindex=\"-1\"></li>\r\n            <template v-for=\"(s, sIndex) in seconds\" :key=\"sIndex\">\r\n              <li v-if=\"!opts.hideDisabledSeconds || (opts.hideDisabledSeconds && !isDisabled('second', s))\"\r\n                  :class=\"{active: second === s}\"\r\n                  :tabindex=\"isDisabled('second', s) ? -1 : tabindex\"\r\n                  :data-key=\"s\"\r\n                  :disabled=\"booleanAttr(isDisabled('second', s))\"\r\n                  v-text=\"s\"\r\n                  @click=\"select('second', s)\"\r\n                  @keydown.space.prevent=\"select('second', s)\"\r\n                  @keydown.enter.prevent=\"select('second', s)\"\r\n                  @keydown.up.prevent=\"prevItem('second', s)\"\r\n                  @keydown.down.prevent=\"nextItem('second', s)\"\r\n                  @keydown.left.prevent=\"toLeftColumn('second')\"\r\n                  @keydown.right.prevent=\"toRightColumn('second')\"\r\n                  @keydown.esc.exact=\"debounceBlur\"\r\n                  @blur=\"debounceBlur\"\r\n                  @focus=\"keepFocusing\"></li>\r\n            </template>\r\n          </ul>\r\n          <ul v-if=\"column === 'apm'\" class=\"apms\" tabindex=\"-1\" @scroll=\"keepFocusing\">\r\n            <li class=\"hint\" v-text=\"apmLabelText\" tabindex=\"-1\"></li>\r\n            <template v-for=\"(a, aIndex) in apms\" :key=\"aIndex\">\r\n              <li v-if=\"!opts.hideDisabledHours || (opts.hideDisabledHours && !isDisabled('apm', a))\"\r\n                  :class=\"{active: apm === a}\"\r\n                  :tabindex=\"isDisabled('apm', a) ? -1 : tabindex\"\r\n                  :data-key=\"a\"\r\n                  :disabled=\"booleanAttr(isDisabled('apm', a))\"\r\n                  v-text=\"apmDisplayText(a)\"\r\n                  @click=\"select('apm', a)\"\r\n                  @keydown.space.prevent=\"select('apm', a)\"\r\n                  @keydown.enter.prevent=\"select('apm', a)\"\r\n                  @keydown.up.prevent=\"prevItem('apm', a)\"\r\n                  @keydown.down.prevent=\"nextItem('apm', a)\"\r\n                  @keydown.left.prevent=\"toLeftColumn('apm')\"\r\n                  @keydown.right.prevent=\"toRightColumn('apm')\"\r\n                  @keydown.esc.exact=\"debounceBlur\"\r\n                  @blur=\"debounceBlur\"\r\n                  @focus=\"keepFocusing\"></li>\r\n            </template>\r\n          </ul>\r\n        </template>\r\n      </template><!-- / Advanced Keyboard Support -->\r\n    </div>\r\n  </div>\r\n</span>\r\n</template>\r\n\r\n<style lang=\"css\">\r\n.vue__time-picker {\r\n  display: inline-block;\r\n  position: relative;\r\n  font-size: 1em;\r\n  width: 10em;\r\n  font-family: sans-serif;\r\n  vertical-align: middle;\r\n}\r\n\r\n.vue__time-picker * {\r\n  box-sizing: border-box;\r\n}\r\n\r\n.vue__time-picker input.vue__time-picker-input {\r\n  border: 1px solid #d2d2d2;\r\n  width: 10em;\r\n  height: 2.2em;\r\n  padding: 0.3em 0.5em;\r\n  font-size: 1em;\r\n}\r\n\r\n.vue__time-picker input.has-custom-icon {\r\n  padding-left: 1.8em;\r\n}\r\n\r\n.vue__time-picker input.vue__time-picker-input.invalid:not(.skip-error-style) {\r\n  border-color: #cc0033;\r\n  outline-color: #cc0033;\r\n}\r\n\r\n.vue__time-picker input.vue__time-picker-input:disabled,\r\n.vue__time-picker input.vue__time-picker-input.disabled {\r\n  color: #d2d2d2;\r\n}\r\n\r\n.vue__time-picker .controls {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  z-index: 3;\r\n\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: flex-end;\r\n  align-items: stretch;\r\n\r\n  /* Prevent browser focusing on the controls layer */\r\n  pointer-events: none;\r\n}\r\n\r\n.vue__time-picker .controls > * {\r\n  cursor: pointer;\r\n  \r\n  width: auto;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  padding: 0 0.35em;\r\n\r\n  color: #d2d2d2;\r\n  line-height: 100%;\r\n  font-style: normal;\r\n\r\n  /* Resume pointer-events on children components */\r\n  pointer-events: initial;\r\n\r\n  transition: color .2s, opacity .2s;\r\n}\r\n\r\n.vue__time-picker .controls > *:hover {\r\n  color: #797979;\r\n}\r\n\r\n.vue__time-picker .controls > *:focus,\r\n.vue__time-picker .controls > *:active {\r\n  outline: 0;\r\n}\r\n\r\n.vue__time-picker .controls .char {\r\n  font-size: 1.1em;\r\n  line-height: 100%;\r\n\r\n  /* Vertical align fixes for webkit browsers only */\r\n  -webkit-margin-before: -0.15em;\r\n}\r\n\r\n.vue__time-picker .custom-icon {\r\n  z-index: 2;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 1.8em;\r\n\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  /* pass down mouse events to the <input> underneath */\r\n  pointer-events: none;\r\n}\r\n\r\n.vue__time-picker .custom-icon img,\r\n.vue__time-picker .custom-icon svg,\r\n.vue__time-picker .controls img,\r\n.vue__time-picker .controls svg {\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  margin: 0;\r\n  border: 0;\r\n  outline: 0;\r\n  max-width: 1em;\r\n  height: auto;\r\n}\r\n\r\n.vue__time-picker .time-picker-overlay {\r\n  z-index: 4;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n\r\n.vue__time-picker .dropdown {\r\n  position: absolute;\r\n  z-index: 5;\r\n  top: calc(2.2em + 2px);\r\n  left: 0;\r\n  background: #fff;\r\n  box-shadow: 0 1px 6px rgba(0,0,0,0.15);\r\n  width: 10em;\r\n  height: 10em;\r\n  font-weight: normal;\r\n}\r\n\r\n.vue__time-picker .dropdown.drop-up {\r\n  top: auto;\r\n  bottom: calc(2.2em + 1px);\r\n}\r\n\r\n.vue__time-picker .dropdown .select-list {\r\n  width: 10em;\r\n  height: 10em;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: stretch;\r\n  justify-content: space-between;\r\n}\r\n\r\n.vue__time-picker .dropdown .select-list:focus,\r\n.vue__time-picker .dropdown .select-list:active {\r\n  outline: 0;\r\n}\r\n\r\n.vue__time-picker .dropdown ul {\r\n  padding: 0;\r\n  margin: 0;\r\n  list-style: none;\r\n  outline: 0;\r\n\r\n  flex: 1 1 0.00001px;\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n}\r\n\r\n.vue__time-picker .dropdown ul.minutes,\r\n.vue__time-picker .dropdown ul.seconds,\r\n.vue__time-picker .dropdown ul.apms{\r\n  border-left: 1px solid #fff;\r\n}\r\n\r\n.vue__time-picker .dropdown ul li {\r\n  list-style: none;\r\n  text-align: center;\r\n  padding: 0.3em 0;\r\n  color: #161616;\r\n}\r\n\r\n.vue__time-picker .dropdown ul li:not(.hint):not([disabled]):hover,\r\n.vue__time-picker .dropdown ul li:not(.hint):not([disabled]):focus {\r\n  background: rgba(0,0,0,.08);\r\n  color: #161616;\r\n  cursor: pointer;\r\n}\r\n\r\n.vue__time-picker .dropdown ul li:not([disabled]).active,\r\n.vue__time-picker .dropdown ul li:not([disabled]).active:hover,\r\n.vue__time-picker .dropdown ul li:not([disabled]).active:focus {\r\n  background: #41B883;\r\n  color: #fff;\r\n}\r\n\r\n.vue__time-picker .dropdown ul li[disabled],\r\n.vue__time-picker .dropdown ul li[disabled]:hover {\r\n  background: transparent;\r\n  opacity: 0.3;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.vue__time-picker .dropdown .hint {\r\n  color: #a5a5a5;\r\n  cursor: default;\r\n  font-size: 0.8em;\r\n}\r\n</style>\r\n"],"names":["CONFIG","HOUR_TOKENS","MINUTE_TOKENS","SECOND_TOKENS","APM_TOKENS","BASIC_TYPES","DEFAULT_OPTIONS","format","minuteInterval","secondInterval","hourRange","minuteRange","secondRange","hideDisabledHours","hideDisabledMinutes","hideDisabledSeconds","hideDisabledItems","advancedKeyboard","hideDropdown","blurDelay","manualInputTimeout","dropOffsetHeight","name","props","modelValue","type","Object","String","Number","Array","Boolean","default","hideClearButton","disabled","closeOnComplete","id","inputClass","placeholder","tabindex","inputWidth","autocomplete","hourLabel","minuteLabel","secondLabel","apmLabel","amText","pmText","lazy","autoScroll","dropDirection","containerId","appendToBody","manualInput","fixedDropdownButton","debugMode","data","timeValue","hours","minutes","seconds","apms","isActive","showDropdown","isFocusing","debounceTimer","undefined","hourType","minuteType","secondType","apmType","hour","minute","second","apm","fullValues","bakDisplayTime","doClearApmChecking","selectionTimer","kbInputTimer","kbInputLog","bakCurrentPos","forceDropOnTop","emits","computed","[object Object]","options","assign","this","length","isNumber","debugLog","isArray","JSON","parse","stringify","opts","typesInUse","filter","getTokenByType","sort","l","r","formatString","indexOf","tokensInUse","map","types","tokens","replace","RegExp","displayTime","apmDisplayText","inUse","inputIsEmpty","range","forEach","value","start","end","is12hRange","translate12hRange","i","includes","push","hourRangeIn24HrFormat","baseOn12Hours","restrictedHourRange","list","hr","substr","formatValue","am12Index","unshift","splice","shift","concat","result","customApmText","apmEnabled","am","some","pm","renderRangeList","width","join","useStringValue","tokensRegxStr","tokenRegexBase","tokensMatchAll","getMatchAllByRegex","tokenChunks","tkMatch","rawToken","tokenMatchItem","index","token","getTokenType","needsCalibrate","len","chk","needsPosCalibrate","calibrateLen","chunkCurrentLen","has","toLowerCase","minuteRangeList","secondRangeList","isEmptyValue","isValidValue","isDisabled","notInInterval","invalidValues","autoDirectionEnabled","watch","newValue","renderFormat","newInteval","renderList","deep","readValues","fillValues","toDisabled","newLength","oldLength","$emit","methods","validValues","newFormat","checkAcceptingType","renderHoursList","renderApmList","nextTick","hoursCount","listType","interval","isMinuteOrSecond","isMinute","readStringValues","readObjectValues","objValue","values","keys","sanitizedValue","addFallbackValues","testString","regexString","str","matchAll","polyfillMatchAll","stringValue","othersRegxStr","othersMatchAll","chunks","isValueToken","otMatch","regexCombo","chunk","tokenRegex","getTokenRegex","safeChars","test","valueResults","match","slice","vrIndex","targetToken","setValueFromString","tokenChunksForLog","tChunk","targetString","regxStr","matchesList","indicesReg","matchedItem","existIndex","findIndex","idxItem","regex","exec","itemIndicesRegex","0","parsedValue","tokenType","stdValue","forceEmit","baseHour","baseHourType","apmValue","hourValue","lowerCasedApm","a","A","toUpperCase","m","mm","s","ss","emitTimeValue","allValueSelected","toggleActive","valueT","match12hRange","isBasicType","isDisabledHour","section","rawRange","formatedValue","validItems","item","setDropdownState","$refs","input","selectionStart","selectionEnd","selectFirstSlot","forceApmSelection","emptyApmSelection","checkForAutoScroll","toShow","fromUserClick","console","warn","appendDropdownToBody","keepFocusing","checkDropDirection","removeDropdownFromBody","dropdown","body","document","getElementsByTagName","window","addEventListener","updateDropdownPos","classList","add","appendChild","box","$el","getBoundingClientRect","dropdownDirClass","style","bottom","innerHeight","y","top","height","left","x","contains","removeChild","remove","removeEventListener","scrollToSelectedValues","firstColumn","scrollToSelected","column","allowFallback","targetList","querySelectorAll","targetValue","activeItemInCol","validItemsInCol","scrollTop","offsetTop","focus","clearTimeout","inputBox","blur","setTimeout","onBlur","columnClass","dataKey","getPrevious","siblingsInCol","selfIndex","prototype","call","sbl","getAttribute","isManualInput","targetItem","getClosestSibling","currentColumn","toLeft","currentColumnIndex","targetColumn","getSideColumnName","listItems","activeItems","getActiveItemInSideColumn","getFirstItemInSideColumn","nearestSlot","getNearestChunkByPos","debounceSetInputSelection","evt","isComposing","keyCode","preventDefault","stopPropagation","keyboardInput","key","clearKbInputLog","arrowHandler","clearTime","tabHandler","metaKey","ctrlKey","getCurrentTokenChunk","cpsData","inputIsCustomApmText","isCustomApmText","setSanitizedValueToSection","customDisplayTime","bakPos","pastingText","clipboardData","getData","replaceCustomApmText","setKbInput","debounceClearKbLog","direction","37","38","39","40","selectFirstValidValue","currentChunk","getClosestValidItemInCol","newChunkPos","toLateralToken","tokenChunksPos","firstChunk","lastChunk","shiftKey","newChar","isApm","chunkType","chunkToken","validValue","lastInputValue","autoFillValue","startPos","nearest","nearestDelta","delta","Math","abs","firstSlotType","getClosestHourItem","currentValue","validHoursList","setManualHour","currentIndex","nextIndex","nextItem","prevItem","select","inputValue","hourT","setInputSelectionRange","setSelectionRange","firstChunkPos","currentChunkIndex","targetSlotPos","inputData","inputString","container","getElementById","el","spaceDown","offsetHeight","max","scrollHeight","documentElement","clientHeight","isNaN","parseFloat","isFinite","testValue","tokenRegexStr","booleanAttr","isTrue","logText","identifier","inputClasses","split","clsName","trim","finalLogText","debug","log"],"mappings":"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"}